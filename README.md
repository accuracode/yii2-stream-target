Yii2 StreamTarget
==============

A Yii 2 log target for system I/O streams.

This log target allows you to log to any of the URL like targets that are [supported by PHP](http://php.net/manual/en/wrappers.php).

A bit lighter version of the [codemix/yii2-streamlog package](https://github.com/codemix/yii2-streamlog).

Typical use cases are:
- Logging in cloud-ready apps according to rules [twelve-factor app](https://www.12factor.net/logs)
- Docker containers that often log to `STDOUT` and `STDERR`, in which case
  the target urls would be `php://stdout` and `php://stderr` respectively

## Installation and Configuration

Install the package through [Composer](http://getcomposer.org):

    composer require accuracode/yii2-streamlog

And then add this to your application configuration:

```php
<?php
return [
    // ...
    'components' => [
        // ...
        'log' => [
            'traceLevel' => YII_DEBUG ? 3 : 0,
            'flushInterval' => 1,
            'targets' => [
                [ // Logs routed to error stream
                    'class' => \accuracode\yii2\log\stream\Target::class,
                    'levels' => ['error', 'warning'],
                    'mode' => \accuracode\yii2\log\stream\StreamModeEnum::STDERR,
                    'logVars' => [],
                ],
                [ // Logs routed to normal output stream
                    'class' => \accuracode\yii2\log\stream\Target::class,
                    'levels' => ['info', 'trace'],
                    'mode' => \accuracode\yii2\log\stream\StreamModeEnum::STDOUT,
                    'logVars' => [],
                ]
            ],
        ],
```

## Configuration Options

* (*StreamModeEnum*) `$mode` Output mode indicating which stream will be used.
* (*bool*) `$disableTimestamp` whether to omit the timestamp prefix. The default is `false` which
  will prepend every message with a timestamp generated by `yii\log\Target::getTime()`. (Since 1.3.0)
